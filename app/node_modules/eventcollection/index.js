const remote = require("electron").remote;

function OnStart() {
    extensions.extendString(String);
    extensions.extendArray(Array);
    backend.Start();
}

function Button_Save() {
    backend.SaveDeck();
}

function Button_Load() {
    backend.LoadDeck();
}

function Button_Close() {
    remote.getCurrentWindow().close();
}

function Span_Clicked_Collection(span) {
    frontend.UpdateShownCard(span);
}

function Span_DblClicked_Collection(span) {
    var paramObj = objects.ParamObject();
    paramObj.number = span.number;
    paramObj.args = [1];

    backend.LoadJsonFile(backend.AddCard, paramObj);
}

function Card_Added(item) {
    frontend.UpdateShownDeck();
}

function Card_Removed(item) {
    frontend.UpdateShownDeck();
}

module.exports = {
    Span_Clicked_Collection,
    Span_DblClicked_Collection,
    Card_Added,
    Card_Removed,
    Button_Close,
    Button_Load,
    Button_Save
};

OnStart();